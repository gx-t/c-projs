<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Attributes</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="GTK+ 2.0 Tree View Tutorial"
HREF="treeview-tutorial.html"><LINK
REL="UP"
TITLE="Mapping Data to the Screen: GtkTreeViewColumn and GtkCellRenderer"
HREF="sec-treeviewcol-renderer.html"><LINK
REL="PREVIOUS"
TITLE="Mapping Data to the Screen: GtkTreeViewColumn and GtkCellRenderer"
HREF="sec-treeviewcol-renderer.html"><LINK
REL="NEXT"
TITLE="Cell Data Functions"
HREF="sec-treeview-col-celldatafunc.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="./treeview-tutorial.css"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="95%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>GTK+ 2.0 Tree View Tutorial</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="sec-treeviewcol-renderer.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Mapping Data to the Screen: GtkTreeViewColumn and GtkCellRenderer</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sec-treeview-col-celldatafunc.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="95%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="sec-treeview-col-attributes"
>5.2. Attributes</A
></H1
><P
>&#13;An attribute is a connection between a cell renderer property and a
field/column in the model. Whenever a cell is to be rendered, a cell renderer
property will be set to the values of the specified model column of the row
that is to be rendered. It is very important that the column's data type is
the same type that a property takes according to the API reference manual.
Here is some code to look at:
</P
><TABLE
BORDER="0"
BGCOLOR="#e3e3c4"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="programlisting"
>&#13;
   ...

   col = gtk_tree_view_column_new();

   renderer = gtk_cell_renderer_text_new();

   gtk_tree_view_column_pack_start(col, renderer, TRUE);

   gtk_tree_view_column_add_attribute(col, renderer, "text", COL_FIRST_NAME);

   ...

</PRE
></TD
></TR
></TABLE
><P
>&#13;This means that the text cell renderer property <TT
CLASS="literal"
>"text"</TT
>
will be set to the string in model column <TT
CLASS="literal"
>COL_FIRST_NAME</TT
>
of each row to be drawn. It is important to internalise the difference
between <A
HREF="http://developer.gnome.org/doc/API/2.0/gtk/GtkTreeViewColumn.html#gtk-tree-view-column-add-attribute"
TARGET="_top"
>&#13;<TT
CLASS="literal"
>gtk_tree_view_column_add_attribute</TT
></A
> and
<TT
CLASS="literal"
>g_object_set</TT
>: <TT
CLASS="literal"
>g_object_set</TT
> sets
a property to a certain <I
CLASS="emphasis"
>value</I
>, while
<TT
CLASS="literal"
>gtk_tree_view_column_add_attribute</TT
> sets a property
to whatever is in the specified _model column_ at the time of rendering.
</P
><P
>&#13;Again, when setting attributes it is very important that the data type
stored in a model column is the same as the data type that a property
requires as argument. Check the API reference manual to see the data type
that is required for each property. When reading through the example a bit
further above, you might have noticed that we set the <TT
CLASS="literal"
>"cell-background"</TT
>
property of a <A
HREF="http://developer.gnome.org/doc/API/2.0/gtk/GtkCellRendererText.html"
TARGET="_top"
>&#13;<TT
CLASS="literal"
>GtkCellRendererText</TT
></A
>, even though the
API documentation does not list such a property. We can do this, because
<TT
CLASS="literal"
>GtkCellRendererText</TT
> is derived from
<A
HREF="http://developer.gnome.org/doc/API/2.0/gtk/GtkCellRenderer.html"
TARGET="_top"
>&#13;<TT
CLASS="literal"
>GtkCellRenderer</TT
></A
>, which does in fact
<A
HREF="http://developer.gnome.org/doc/API/2.0/gtk/GtkCellRenderer.html#GtkCellRenderer--cell-background"
TARGET="_top"
>&#13;have</A
> such a property. Derived classes inherit the properties of their
parents. This is the same as with widgets that you can cast into one of their
ancestor classes. The API reference has an
<A
HREF="http://developer.gnome.org/doc/API/2.0/gtk/ch01.html"
TARGET="_top"
>object hierarchy</A
>
that shows you which classes a widget or some other object is derived from.
</P
><P
>&#13;There are two more noteworthy things about <TT
CLASS="literal"
>GtkCellRenderer</TT
>
properties: one is that sometimes there are different properties which do
the same, but take different arguments, such as the <TT
CLASS="literal"
>"foreground"</TT
>
and <TT
CLASS="literal"
>"foreground-gdk"</TT
> properties of <TT
CLASS="literal"
>GtkCellRendererText</TT
>
(which specify the text colour). The <TT
CLASS="literal"
>"foreground"</TT
> property take a colour in string form, such as "Orange" or
"CornflowerBlue", whereas <TT
CLASS="literal"
>"foreground-gdk"</TT
> takes a
<A
HREF="http://developer.gnome.org/doc/API/2.0/gdk/gdk-Colormaps-and-Colors.html#GdkColor"
TARGET="_top"
>GdkColor</A
>
argument. It is up to you to
decide which one to use - the effect will be the same. The other thing worth mentioning is
that most properties have a <TT
CLASS="literal"
>"foo-set"</TT
> property taking a boolean value
as argument, such as <TT
CLASS="literal"
>"foreground-set"</TT
>. This is useful when you want
to have a certain setting have an effect or not. If you set the <TT
CLASS="literal"
>"foreground"</TT
>
property, but set <TT
CLASS="literal"
>"foreground-set"</TT
> to <TT
CLASS="literal"
>FALSE</TT
>, then your
foreground color setting will be disregarded. This is useful in cell data functions (see
below), or, for example, if you want set the foreground colour to a certain value at
start-up, but only want this to be in effect in some columns, but not in others (in which
case you could just connect the <TT
CLASS="literal"
>"foreground-set"</TT
> property to a model
column of type <TT
CLASS="literal"
>G_TYPE_BOOLEAN</TT
> with
<A
HREF="http://developer.gnome.org/doc/API/2.0/gtk/GtkTreeViewColumn.html#gtk-tree-view-column-add-attribute"
TARGET="_top"
>&#13;<TT
CLASS="literal"
>gtk_tree_view_column_add_attribute</TT
></A
>.
</P
><P
>&#13;Setting column attributes is the most straight-forward way to get your model data to be
displayed. This is usually used whenever you want the data in the model to be displayed
exactly as it is in the model.
</P
><P
>&#13;Another way to get your model data displayed on the screen is to set up cell data functions.
</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="95%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="95%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sec-treeviewcol-renderer.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="treeview-tutorial.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sec-treeview-col-celldatafunc.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Mapping Data to the Screen: GtkTreeViewColumn and GtkCellRenderer</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sec-treeviewcol-renderer.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Cell Data Functions</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>